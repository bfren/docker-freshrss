#!/usr/bin/with-contenv bash

set -euo pipefail
export BF_E=`basename ${0}`


#======================================================================================================================
# Generate a new salt.
#======================================================================================================================

SALT_FILE=`mktemp`
bf-debug "Saving random string into ${SALT_FILE}."

RND=`bf-rnd`
bf-rnd >> ${SALT_FILE}

bf-debug "Generating salt."
SALT=`sha1sum ${SALT_FILE} | awk '{print $1}'`

bf-env "FRESHRSS_SALT" "${SALT}"
